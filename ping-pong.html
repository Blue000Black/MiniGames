<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Ping-pong</title>
</head>
<body>
    <header>
        <div class="main">Ping-pong</div>
        <h1 class="count">00:00</h1>
        <img src="imgs/info.png" class="btn-info">
        <img src="imgs/menu.png" class="btn-menu">
    </header>
    <div class="table">
        <div class="player1"></div>
        <div class="player2"></div>
        <div class="net"></div>
        <div class="ball"></div>
    </div>
</body>
<style>
    body {
        width: 1440px;
        height: 1024px;
        padding: 10px;
        border-radius: 5px;
        background-color: rgb(212, 212, 212);
    }

    header {
        width: 1420px;
        height: 45px;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-items: center;
        margin-bottom: 10px;
    }

    .main {
        display: block;
        padding: 10px;
        border-radius: 10px;
        background-color: blueviolet;
        color: white;
        height: fit-content;
        font-size: 20px;
    }

    .btn-info {
        width: 40px;
        height: 40px;
        margin-left: 35%;
    }

    .btn-menu {
        width: 40px;
        height: 40px;
        margin-left: 2%;
    }

    .count {
        margin-left: 40%;
    }

    .table {
        width: 1420px;
        height: 800px;
        background-color: rgb(8, 99, 0);
        border-radius: 5px;
    }

    .ball {
        left: 715px;
        top: 445px;
        position: absolute;
        width: 10px;
        height: 10px;
        background-color: white;
        border-radius: 5px;
        border: solid blueviolet 1px;
    }

    .net {
        height: 800px;
        width: 2px;
        background-color: black;
        left: 720px;
        position: absolute;
    }

    .player1 {
        width: 10px;
        height: 200px;
        border-radius: 5px;
        background-color: blue;
        top: 345px;
        left: 30px;
        position: absolute;
    }

    .player2 {
        width: 10px;
        height: 200px;
        border-radius: 5px;
        background-color: red;
        top: 345px;
        left: 1415px;
        position: absolute;
    }
</style>
<script>
    let player1 = document.querySelector('.player1')
    let player2 = document.querySelector('.player2')
    let ball = document.querySelector('.ball')
    let btn_info = document.querySelector('.btn-info')
    let btn_menu = document.querySelector('.btn-menu')
    let score = document.querySelector('.score')
    let info = `Об игре:
 - В игре ping-pong, чтобы победить, вам нужно, чтобы противник
   пропустил шарик за себя
Управление:
 - Левый игрок: W и S
 - Правый игрок: стрелочки вврх и вниз
 - Чтобы подать: пробел
 - Чтобы начать новую игру: R`
    btn_info.addEventListener('click', function () {
        alert(info)
    })
    btn_menu.addEventListener('click', function () {
        window.close()
    })
    let pred = 'serve'
    let status = 'serve'
    let KP = {
        'W': false,
        'S': false,
        'R': false,
        '_': false,
        'U': false,
        'D': false,
        'P': false,
    }
    document.addEventListener('keydown', function (event) {
        if (event.code == 'KeyW') {
            KP['W'] = true
        } elif (event.code == 'KeyS') {
            KP['S'] = true
        } elif (event.code == 'KeySpace') {
            KP['_'] = true
        } elif (event.code == 'KeyR') {
            KP['R'] = true
        } elif (event.code == 'KeyUp') {
            KP['U'] = true
        } elif (event.code == 'KeyDown') {
            KP['D'] = true
        } elif (event.code == 'KeyP') {
            KP['P'] = true
        }
    })
    document.addEventListener('keyup', function (event) {
        if (event.code == 'KeyW') {
            KP['W'] = false
        } elif (event.code == 'KeyS') {
            KP['S'] = false
        } elif (event.code == 'KeySpace') {
            KP['_'] = false
        } elif (event.code == 'KeyUp') {
            KP['U'] = false
        } elif (event.code == 'KeyDown') {
            KP['D'] = false
        } elif (event.code == 'KeyR') {
            KP['R'] = false
        } elif (event.code == 'KeyP') {
            KP['P'] = false
        }
    })
    let t = getTime()
    function main_loop() {
        if (status == 'serve') {
            if (KP['_']) {
                
            }
        } elif (status == 'scoring') {

        } elif (status == 'wining') {

        } else {
            if (KP['P']) {
                
            } elif (KP['R']) {
                
            }
        }
    }
    setInterval(main_loop, 17)
</script>
</html>
